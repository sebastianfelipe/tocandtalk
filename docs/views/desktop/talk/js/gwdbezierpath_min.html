<!DOCTYPE html>

<html>
<head>
  <title>gwdbezierpath_min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>gwdbezierpath_min.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>-<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">var</span> q=<span class="hljs-regexp">/[-+]?[0-9]*\.?[0-9]+%/g</span>,r=<span class="hljs-regexp">/[-+]?[0-9]*\.?[0-9]+px/g</span>,v=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c,d,e,g,a</span>)</span>{<span class="hljs-keyword">var</span> b,h;<span class="hljs-keyword">if</span>(d.gradientMode){a=[[a,a,<span class="hljs-number">0</span>],[a,g-a,<span class="hljs-number">0</span>],[e-a,g-a,<span class="hljs-number">0</span>],[e-a,a,<span class="hljs-number">0</span>]];<span class="hljs-keyword">if</span>(<span class="hljs-string">"radial"</span>==d.gradientMode){(b=d.c)||(b=<span class="hljs-string">"center"</span>);h=c=<span class="hljs-string">"center"</span>;<span class="hljs-keyword">var</span> f=b.match(q);b=b.match(r);f&amp;&amp;<span class="hljs-number">1</span>&lt;f.length?(c=f[<span class="hljs-number">0</span>],h=f[<span class="hljs-number">1</span>]):b&amp;&amp;<span class="hljs-number">1</span>&lt;b.length&amp;&amp;(c=b[<span class="hljs-number">0</span>],h=b[<span class="hljs-number">1</span>]);c=t(c,a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],a[<span class="hljs-number">3</span>][<span class="hljs-number">0</span>]);h=t(h,a[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>],a[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]);f=d.shape;b=[<span class="hljs-number">.5</span>*(a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]+a[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]),<span class="hljs-number">.5</span>*(a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]+a[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>])];<span class="hljs-keyword">var</span> k=c&lt;b[<span class="hljs-number">0</span>]?a[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]:a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];b=h&lt;b[<span class="hljs-number">1</span>]?a[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]:a[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];k=<span class="hljs-built_in">Math</span>.abs(c-k);b=<span class="hljs-built_in">Math</span>.abs(h-b);<span class="hljs-keyword">var</span> l=
a[<span class="hljs-number">3</span>][<span class="hljs-number">0</span>]-a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];a=a[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]-a[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<span class="hljs-number">.001</span>&lt;<span class="hljs-built_in">Math</span>.abs(l)&amp;&amp;(a/=l,k=<span class="hljs-built_in">Math</span>.sqrt(k*k+b*b/(a*a)),b=a*k);a=k;f&amp;&amp;<span class="hljs-string">"farthest-corner"</span>!=f&amp;&amp;(f=f.match(r))&amp;&amp;<span class="hljs-number">1</span>&lt;f.length&amp;&amp;(a=<span class="hljs-built_in">parseFloat</span>(f[<span class="hljs-number">0</span>]),b=<span class="hljs-built_in">parseFloat</span>(f[<span class="hljs-number">1</span>]));l=<span class="hljs-built_in">Math</span>.max(a,b);f=<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"canvas"</span>);f.width=e;f.height=g;k=f.getContext(<span class="hljs-string">"2d"</span>);l=k.createRadialGradient(c,h,<span class="hljs-number">0</span>,c,h,l);u(l,d.color);k.rect(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,e,g);b&lt;a?(d=<span class="hljs-number">1</span>,e=b/a):(e=<span class="hljs-number">1</span>,d=a/b);k.save();k.transform(d,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,e,d*-c+c,e*-h+h);k.fillStyle=l;k.fill();k.restore();d=k.createPattern(f,<span class="hljs-string">"no-repeat"</span>)}<span class="hljs-keyword">else</span>{e=<span class="hljs-number">0</span>;d.orientation&amp;&amp;
(e=<span class="hljs-built_in">parseFloat</span>(d.orientation)*<span class="hljs-built_in">Math</span>.PI/<span class="hljs-number">180</span>);<span class="hljs-built_in">isFinite</span>(e)&amp;&amp;!<span class="hljs-built_in">isNaN</span>(e)||(e=<span class="hljs-number">0</span>);b=-<span class="hljs-number">1</span>*e;e=[];h=[];g=[<span class="hljs-number">.5</span>*(a[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]+a[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]),<span class="hljs-number">.5</span>*(a[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]+a[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>])];f=<span class="hljs-built_in">Math</span>.tan(b);<span class="hljs-keyword">if</span>(<span class="hljs-number">.001</span>&gt;<span class="hljs-built_in">Math</span>.abs(<span class="hljs-built_in">Math</span>.tan(<span class="hljs-number">.5</span>*<span class="hljs-built_in">Math</span>.PI-<span class="hljs-number">.001</span>)-f))h=<span class="hljs-number">0</span>&lt;=<span class="hljs-built_in">Math</span>.sin(b)?<span class="hljs-number">1</span>:-<span class="hljs-number">1</span>,a=<span class="hljs-number">.5</span>*(a[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>]-a[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]),e=[g[<span class="hljs-number">0</span>],g[<span class="hljs-number">1</span>]-h*a],h=[g[<span class="hljs-number">0</span>],g[<span class="hljs-number">1</span>]+h*a];<span class="hljs-keyword">else</span>{b=<span class="hljs-number">0</span>&lt;=<span class="hljs-built_in">Math</span>.cos(b)?<span class="hljs-number">1</span>:-<span class="hljs-number">1</span>;b=[b,b*f];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> k=<span class="hljs-literal">Infinity</span>,l=-<span class="hljs-literal">Infinity</span>,m=<span class="hljs-number">0</span>;<span class="hljs-number">4</span>&gt;m;m++){<span class="hljs-keyword">var</span> n,p=[a[m][<span class="hljs-number">0</span>]-g[<span class="hljs-number">0</span>],a[m][<span class="hljs-number">1</span>]-g[<span class="hljs-number">1</span>]],p=f*p[<span class="hljs-number">1</span>]+p[<span class="hljs-number">0</span>],p=p/(<span class="hljs-number">1</span>+f*f);n=[p,p*f];p=(<span class="hljs-number">0</span>&lt;b[<span class="hljs-number">0</span>]*n[<span class="hljs-number">0</span>]+b[<span class="hljs-number">1</span>]*n[<span class="hljs-number">1</span>]?<span class="hljs-number">1</span>:-<span class="hljs-number">1</span>)*<span class="hljs-built_in">Math</span>.sqrt(n[<span class="hljs-number">0</span>]*n[<span class="hljs-number">0</span>]+n[<span class="hljs-number">1</span>]*n[<span class="hljs-number">1</span>]);n=[n[<span class="hljs-number">0</span>]+g[<span class="hljs-number">0</span>],
n[<span class="hljs-number">1</span>]+g[<span class="hljs-number">1</span>]];p&lt;k&amp;&amp;(e=n,k=p);p&gt;l&amp;&amp;(h=n,l=p)}}a=c.createLinearGradient(e[<span class="hljs-number">0</span>],e[<span class="hljs-number">1</span>],h[<span class="hljs-number">0</span>],h[<span class="hljs-number">1</span>]);u(a,d.color);d=a}<span class="hljs-keyword">return</span> d}<span class="hljs-keyword">return</span><span class="hljs-string">"rgba("</span>+<span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">255</span>*d[<span class="hljs-number">0</span>])+<span class="hljs-string">","</span>+<span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">255</span>*d[<span class="hljs-number">1</span>])+<span class="hljs-string">","</span>+<span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">255</span>*d[<span class="hljs-number">2</span>])+<span class="hljs-string">","</span>+d[<span class="hljs-number">3</span>]+<span class="hljs-string">")"</span>},u=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c,d</span>)</span>{<span class="hljs-keyword">if</span>(c)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=d.length,g=<span class="hljs-number">0</span>;g&lt;e;g++){<span class="hljs-keyword">var</span> a=d[g].position/<span class="hljs-number">100</span>,b=d[g].value;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>===b.a||<span class="hljs-literal">null</span>===b.a)b.a=<span class="hljs-number">1</span>;c.addColorStop(a,<span class="hljs-string">"rgba("</span>+b.r+<span class="hljs-string">","</span>+b.g+<span class="hljs-string">","</span>+b.b+<span class="hljs-string">","</span>+b.a+<span class="hljs-string">")"</span>)}},t=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c,d,e</span>)</span>{<span class="hljs-keyword">return</span> c?c=<span class="hljs-number">0</span>&lt;=c.indexOf(<span class="hljs-string">"%"</span>)?d+<span class="hljs-built_in">parseInt</span>(c,<span class="hljs-number">10</span>)/<span class="hljs-number">100</span>*(e-d):<span class="hljs-number">0</span>&lt;=c.indexOf(<span class="hljs-string">"px"</span>)?d+<span class="hljs-built_in">parseInt</span>(c,
<span class="hljs-number">10</span>):d+<span class="hljs-number">.5</span>*(e-d):<span class="hljs-number">0</span>};<span class="hljs-keyword">var</span> w=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{};goog.inherits(w,HTMLCanvasElement);
w.prototype.attachedCallback=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">this</span>.getContext(<span class="hljs-string">"2d"</span>),d=<span class="hljs-keyword">this</span>.width,e=<span class="hljs-keyword">this</span>.height,g,a,b,h,f;g=<span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.getAttribute(<span class="hljs-string">"anchors"</span>))||[];a=<span class="hljs-built_in">parseFloat</span>(<span class="hljs-keyword">this</span>.getAttribute(<span class="hljs-string">"stroke-width"</span>))||<span class="hljs-number">0</span>;b=<span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.getAttribute(<span class="hljs-string">"stroke-color"</span>));h=<span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.getAttribute(<span class="hljs-string">"fill-color"</span>));f=<span class="hljs-keyword">this</span>.hasAttribute(<span class="hljs-string">"closed"</span>);c.save();<span class="hljs-keyword">var</span> k=g.length;c.beginPath();<span class="hljs-keyword">var</span> l=g[<span class="hljs-number">0</span>],m=[];c.moveTo(l[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],l[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">1</span>;n&lt;k;n++)m=g[n],c.bezierCurveTo(l[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>],l[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>],m[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],m[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>],m[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],m[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]),l=
m;k&amp;&amp;f&amp;&amp;(m=g[<span class="hljs-number">0</span>],c.bezierCurveTo(l[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>],l[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>],m[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],m[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>],m[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>],m[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]));c.lineCap=<span class="hljs-string">"round"</span>;c.lineJoin=<span class="hljs-string">"round"</span>;<span class="hljs-literal">null</span>!=h&amp;&amp;(c.fillStyle=v(c,h,d,e,a),c.fill());<span class="hljs-literal">null</span>!=b&amp;&amp;<span class="hljs-number">0</span>&lt;a&amp;&amp;(c.lineWidth=a,c.strokeStyle=v(c,b,d,e,<span class="hljs-number">0</span>),c.stroke());c.restore()};w.prototype.attributeChangedCallback=<span class="hljs-literal">null</span>;<span class="hljs-built_in">document</span>.registerElement(<span class="hljs-string">"gwd-bezierpath"</span>,{prototype:w.prototype,<span class="hljs-string">"extends"</span>:<span class="hljs-string">"canvas"</span>});}()</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
